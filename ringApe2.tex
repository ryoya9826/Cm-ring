\part[Appendix \thepart, Various Example]{様々な例}

Counter Example of Commutative Algebra を目指したい．

\section{ED,PID,UFD}
\begin{surex}
	体$K$について，$K[X,X^{-1}]$はPIDである．
\end{surex}

\begin{proof}
	$I$を$K[X,X^{-1}]$のイデアルとする．これはNoetherなので$I=(f_1,\dots,f_r)$とできる．$f_1,\dots,f_r$に現れる負冪の項は高々有限個だから，ある$n\geq0$が存在して$X^nf_i\in K[X]$とできる．$(X^nf_1,\dots,X^nf_r)$を$K[X]$のイデアルとみると，これはPIDなので$(X^nf_1,\dots,X^nf_r)=(g)$となる$g\in K[X]$が存在し，$K[X,X^{-1}]$のイデアルとしても$(f_1,\dots,f_r)=(g)$となる．
\end{proof}
\begin{surex}[UFDだがPIDでない環]
	体$K$について，$K[X,Y]$はUFDだがPIDではない．
\end{surex}

これの証明を行おう．
\begin{defi}[GCD整域]\index{#GCD整域@GCD整域}\label{defi:GCDdomain}
	整域$A$であって，任意の２つの$a,b\in A$が最大公約元を必ず持つものを\textbf{GCD整域(GCD domain)}という．
\end{defi}

PIDがGCD整域であることは見たとおり（\ref{prop:PIDはGCD}）であり，さらに強く既約分解することでUFDはGCD整域であることがわかる．

\begin{defi}[内容，原始多項式]\index{げんしたこうしき@原始多項式}\index{ないよう@内容}
	$A$をGCD整域とする．$f(X)=a_nX^n+\dots+a_0\in A[X]$について$a_n,\dots,a_0$の最大公約元を$c(f)$とかき，$f$の\textbf{内容(content)}という．$c(f)$が単元であるとき，$f$は\textbf{原始的(primitive)}であるという．
\end{defi}

$a,b\in A$について，ある$u\in A^\times$が存在して$a=ub$とかけるとき$a，b$は同伴である，と定義したことを思い出そう．この節ではこのことを$a\sim b$と書くことにする．
\begin{lem}[Gaussの補題]\index{#Gaussのほだい@Gaussの補題}
	$A$をGCD整域とする．$f,g\in A[X]$について$c(fg)\sim c(f)c(g)$が成り立つ．
\end{lem}

\begin{proof}
	$f=c(f)f_0,g=c(g)g_0$と分解すると$f_0,g_0$は原始的である．また；
	\[c(fg)\sim c(c(f)c(g)f_0g_0)\sim c(f)c(g)c(f_0g_0)\]
	であるので$f,g$は原始的であると仮定してよい．$f=a_nX^n+\dots+a_0,g=b_mX^m+\dots+b_0$とおく．$fg=c_{n+m}X^{n+m}+\dots+c_0$とおき，$n+m$についての帰納法で示す．$c(fg)=\gcd(c_{n+m},\dots,c_0)$であるが，これは；
	\[\gcd(a_n,c_{n+m-1},\dots, c_0)\gcd(b_n,c_{n+m-1},\dots,c_0)\]
	を割り切る．ここで，GCD整域において$\gcd(x,y_1,\dots,y_n)\sim\gcd(x,y_1+zx_1,\dots,y_n+zx_n)$であることから；
	\[\gcd(a_n,c_{n+m-1},\dots,c_0)\sim\gcd(a_n,c_{n+m-1}-a_nb_{m-1},\dots,c_n-a_nb_0,c_{n-1},\dots,c_0)\sim\gcd(a_n, c((f-a_nX^n)g))\]
	である．$\deg(f-a_nX^n)g<n+m$であるから，帰納法の仮定より；
	\[c((f-a_nX^n)g)\sim c(f-a_nX^n)c(g)\sim c(f-a_nX^n)=\gcd(a_{n-1},\dots,a_0)\]
	であるので，$\gcd(a_n，c_{n+m-1},\dots,c_0)\sim c(f)$である．同様に$\gcd(b_m,c_{n+m-1},\dots,c_0)\sim c(g)$であるので，$c(fg)$は単元の約元である．よって$c(fg)$も単元である．
\end{proof}

%\begin{cor}
%	$A$をGCD整域，$A$の商体を$K$とする．定数でない$f\in A[X]$に対し，$f$が$A[X]$の既約元であることと，$f$は原始的かつ$K[X]$において既約であるこは同値である．
%\end{cor}
%
%\begin{proof}
%	$f$は$A[X]$の既約元とする．$f=c(f)f_0$とすると，$c(f)$または$f_0$は単元である．$f$は定数でないので$c(f)$は単元，すなわち$f$は原始的である．次に，$K[X]$において$f=gh$とかけたとする．分母を払うように0でない$a，b\in A$をとることで$ag，bh\in A[X]$とできる．このとき$abf=c(ag)c(bh)g_0h_0~(g_0，h_0$は原始的)であり，Gaussの補題から$ab\sim c(ag)c(bh)$である．よって$A[X]$は整域だから$f\sim g_0h_0$である．$f$は既約なので$g_0$または$h_0$が単元である．$(A[X])^\times=A^\times$なので$ag$または$bh$は単元である．よって$ag$または$bh$が$A$の元である．よって$g\in K$または$h\in K$である．逆は明らかであろう．
%\end{proof}

\begin{prop}
	$A$はGCD整域とする．$p\in A$が$A$で素元であることと，$A[X]$において素元であることは同値である．
\end{prop}

\begin{proof}
	$p$は$A$の素元とする．$f,g\in A[X]$をとり，$fg\in pA[X]$であるとする．ある$h\in A[X]$が存在して$fg=ph$となるので，Gaussの補題より$pc(h)\sim c(f)c(g)$となる．$p$は$A$の素元なので$c(f)\in pA$または$c(g)\in pA$であり，これは$f\in pA[X]$または$g\in pA[X]$を意味する．
\end{proof}

\begin{lem}
	$A$をGCD整域とし，$K$をその商体とする．$f\in A[X]$が原始的であるとき，$f$が$A[X]$で素元であることと$K[X]$において素元であることは同値である．
\end{lem}
\begin{proof}
	\begin{eqv}
		\item $g,h\in K[X], gh\in fK[X]$とする．ある$q\in K[X]$が存在して$gh=fq$である．$g,h,q$の分母を払い$ag,bh,dg\in A[X]$とする．$ag=c(ag)g_0,bh=c(bh)h_0,dq=c(dq)q_0$とすると，Gaussの補題から$d c(ag)c(bh)\sim ab c(dq)$であるので，$g_0h_0\sim q_0f$である．$f$は$A[X]$で素元なので$g_0\in fA[X]$または$h_0\in fA[X]$である．よって$g\in fK[X]$または$h\in fK[X]$が従う．
		
		\item $g,h\in A[X], gh\in fA[X]$とする．$K[X]$の元とみなせば素元であるので，$g\in fK[X]$または$h\in fK[X]$が成り立つ．$g\in fK[X]$としよう．ある$\varphi\in K[X]$が存在して$g=\varphi f$となる．分母を払い$a\varphi\in A[X]$とすると，内容をとって$ag=c(a\varphi)\varphi_0f$となる．Gaussの補題より$c(ag)=ac(g)\sim c(a\varphi)$となる．よって$a\varphi=c(a\varphi)\varphi_0\sim ac(g)\varphi_0$より$\varphi\sim c(g)\varphi_0$であるので，$\varphi\in A[X]$である．よって$g\in fA[X]$である．$h\in fk[X]$のときも同様．
	\end{eqv}
\end{proof}

これらの準備によって次が示される．

\begin{thm}
	$A$がUFDであることと$A[X]$がUFDであることは同値である．
\end{thm}

\begin{proof}
	$A$がUFDなら$A[X]$もそうであることを示せばよい．$f=c(f)f_0\in A[X]$をとる．$A$の商体を$K$とおき，$K[X]$で$f_1=p_1\dots p_n$と素元分解する．分母を払って$a_ip_i=c(a_ip_i)p_{i,0}$とかける．ここで$p_{i,0}$は原始的で，$K[X]$において$p_i$と同伴なので素元である．よって補題から$A[X]$でも素元．積をとって$a_1\dots a_n f_1=c(a_1p_1)\dots c(a_np_n)p_{1,0}\dots p_{n,0}$となるから，内容をとって$f_1\sim p_{1,0}\dots p_{n,0}$となる．これは$A[X]$における$f_1$の素元分解を与える．$A$はUFDだから$c(f)$も素元分解でき，よって$f$を分解できる．よって$A[X]$はUFDである．
\end{proof}

\begin{cor}\label{cor:多変数もUFD}
	UDF上の$n$変数多項式環はUFDである．
\end{cor}

\begin{surex}[PIDだがEDでない環]
	$\Z[(1+\sqrt{-19})/2]$はPIDだがEDではない．
\end{surex}

PIDだがEDでない環はこのように2次体の整数環についてよく知られているが，次の定理が知られている（詳しい証明は\cite{Goel2018}を見よ）．

\begin{thm}
	$b,c\in\R$を$b>0,c>0$とする．$\R[X,Y]/(X^2+bY^2+c)$はPIDであるがEDではない．
\end{thm}

\begin{proof}
	$\R[X,Y]/(X^2+bY^2+c)$は$b>0,c>0$のときEDではない（\cite{Goel2018}，系2.17）．また，$\R[X,Y]/(X^2+bY^2+c)$がPIDであることは$c>0$と同値である（\cite{Goel2018}，系2.18）．
\end{proof}

\begin{surex}\label{ex:UFD永田の反例}
	$k$を体とする．$A=k[x,y,y/x,y/x^2,\cdots]$はUFDではないが，素元で生成される積閉集合$S$が存在して$A_S$はUFDである．また，これはNoetherでなく単項イデアル定理が成り立たない例にもなっている．
\end{surex}

\begin{proof}
	$y$を既約分解することはできない．また$(y/x,y/x^2,\cdots)$は素イデアルである．いま$(x)=(x,y/x,y/x^2,\cdots)$も素イデアルなので$x$は素元であるが，$A_x=k[x,y]$なのでこれはUFDである．
\end{proof}

UFDは既約分解が一意的にできる整域であるが，既約分解の存在のみを要請する定義として\textbf{原子整域}というものがある．

\begin{defi}[原子整域]\index{げんしせいいき@原子整域}
	$A$を整域とする．任意の$a\neq 0\in A$が単元と既約元の積にかけるとき，$A$を\textbf{原子整域(atomic domain)}という．
\end{defi}

\cite{Grams1974}は整域においてACCPと既約分解可能性が同値でないこと，すなわちACCPの成り立たない原子整域が存在することを示した．その例を紹介しよう．%まずモノイドについて復習しておくことにする．集合$S$と，$S$上の結合的で，単位元の存在する演算$\ast$の組をモノイドという．モノイドが\textbf{無捻(torsion free)}であるとは，任意の$s\in S$と$n\geq 0$に対して$s^n\neq 0$であることをいう．また\textbf{消約的(cancellative)}であるとは，任意の$s,t,u\in S$に対して$s+t=s+u$ならば$t=u$であることをいう．

\begin{defi}[モノイド環]\index{ものいどかん@モノイド環}
	$A$を環とする．可換なモノイド$S$（加法的に書く）に対して；
	\[A[X;S]=\mkset{\sum_{s\in S}a_sX^s}{a_s\in A}\]
	は$a_sX^s+b_sX^s=(a_s+b_s)X^s, X^sX^t=X^{s+t}, X^0=1$によって環をなす．これを\textbf{モノイド環(monoid ring)}という．
\end{defi} 

\begin{surex}[原子整域だがACCPを満たさない例]\label{ex:ACCPの成り立たない原子整域}
	$p_i$を奇素数のなす列（$p_0=3,p_1=5,\dots$）とし，$S$を$\{1/3,1/(2\cdot 5),\dots,1/(2^ip_i),\dots\}$が（$\Q_+$の部分モノイドとして）生成するモノイドとする．体$k$に対して$k[X;S]$の部分集合$N=\mkset{f\in K[X;S]}{\text{$f$は定数項を持つ}}$は積閉で，$A=K[X;S]_N$はACCPを満たさない原子整域となる．
\end{surex}

\begin{proof}
	\[(X)\subset(X^{1/2})\subset\cdots\subset(X^{1/2^i})\subset\cdots\]
	により$A$はACCPを満たさない．原子整域であることを示そう．まず，任意の$s\in S$は；
	\[s=\frac{n}{2^u}+\frac{n_0}{3}+\dots+\frac{n_k}{2^kp_k}\quad(u,n,n_i\in\N, 0\leq n_i<p_i,n_k\neq0)\]
	と一意に書けることを示す．$s$がこの表示を持つことは明らかなので；
	\[\frac{n}{2^u}+\frac{n_0}{3}+\dots+\frac{n_k}{2^kp_k}=\frac{m}{2^w}+\frac{m_0}{3}+\dots+\frac{n_l}{2^lp_l}\quad(0\leq m_i<p_i, k\leq l)\]
	となっているとすると，各$0\leq i\leq l$に対して；
	\[\frac{n_i-m_i}{2^ip_i}=\frac{m}{2^w}-\frac{n}{2^w}+\sum_{i\neq j}\frac{m_i-n_j}{2^jp_j}\]
	において$p_i$進付値を考えると右辺は正なので，$n_i-m_i$は$p_i$を割り切らねばならない．いま$-p_i<n_i-m_i<p_i$だから$n_i=m_i$となり，表示が一意であることがわかった．各$s\in S$について$n/2^w$の部分を$\psi(s)$とおくことにする．次に$X^{\frac{1}{2^kp_k}}$が既約元であることを示そう．$X^{\frac{1}{2^kp_k}}=(f_1/g_1)(f_2/g_2)$とかけているとする．$r$を$g_1g_2$の定数項とし；
	\[f_1=\sum a_iX^{s_i}, f_2=\sum b_jX^{t_j}\quad(s_0<\dots< s_n, t_0<\dots<t_m, a_0,b_0\neq 0)\]
	とおくと，$rX^{\frac{1}{2^kp_k}}=a_0b_0X^{s_0+t_0}$より$s_0+t_0=1/(2^kp_k)$であり，表示の一意性から$s_0=0$または$t_0=0$すなわち$f_1,f_2$のどちらかは単元である．ゆえに$X^{\frac{1}{2^kp_k}}$は既約である．
	
	さて，任意の$0\neq f/g\in A$をとる．$f=\sum a_iX^{s_i}$とかいたとき，$d=\min\{\psi(s_i)\}$とおく．このとき$f=X^dh$とかける．いま$d=n/2^k$としたとき$X^d=X^{\frac{1}{2^kp_k}np_k}$より$X^d$は既約元の積にかけているので，$f$において$\min\{\psi(s_i)\}=0$と仮定してよい．$s_u$を$\psi(s_i)=0$なるものの中で最小のものとし；
	\[s_u=\frac{n_0}{3}+\dots+\frac{n_l}{2^lp_l}, k=n_0+\dots+n_l\]
	とおけば，$f$の分解に現れる非単元の個数が高々$k$個であることを示せばよい（これが正しいならば，分解を続けていけば途中で既約になるか$k=1$になるかのどちらかで，それも既約だから）．
	
	どれも単元でないような$f$の分解$f=f_1/g_1\cdots f_{k+1}/g_{k+1}$があるとする．$g_i$の定数項を$r_i$とすると$g_1\cdots g_{k+1}f=f_1\cdots f_{k+1}$において，左辺は$s_u$次の項$a_ur_1\cdots r_{k+1}X^{s_u}$を持つので，右辺もそう．$f_i=\sum b_{ij}X^{t_{ij}}$とおくと，右辺における$s_u$次の項は$t_{1j_1}+\dots+t_{k+1 j_{k+1}}=s_u$なる組についての$b_{1j_1}\cdots b_{k+1 j_{k+1}}X^{s_u}$の和である．ここで$0<t_{ij}$かつ$\psi(t_{ij_i})=0$に注意し；
	\[t_{ij_i}=\frac{m_{i0}}{3}+\dots+\frac{m_{il}}{2^lp_l}\]
	とおくと；
	\[\begin{pmatrix}
		m_{10}&m_{20}&\cdots&m_{k+1 0}\\
		m_{11}&m_{21}&\cdots&m_{k+1 1}\\
		\vdots&\vdots&\ddots&\vdots\\
		m_{1l}&m_{2l}&\cdots&m_{k+1 l}
	\end{pmatrix}\]
	は最低$k+1$個の零でない成分を持つ．一方で$i$行の和は$n_{i-1}$なので，各行は最大で$n_{i-1}$個の零でない成分しかもてないから，全体では$k$個の零でない成分しか持たず，これは矛盾．よって$f$の分解に現れる非単元は高々$k$個であることがわかった．
\end{proof}
\section{素イデアルについて}
\begin{surex}[鎖状だが$\idht P+\coht P=\dim A$が成りたたない例]\label{ex:鎖状だがht P+coht P<dim P}
	$(A,\ideal{m})$をDVR（すなわち$1$次元Noether局所整閉整域）とする．$B=A[X]$とすればこれは鎖状だが，$\idht P+\coht P=\dim A$を満たさない$P\in\spec B$が存在する．
\end{surex}

\begin{proof}
	$\ideal{m}$は単項なので，$\ideal{m}=(a)$とおこう．\ref{cor:Noether多項式の次元}より$\dim B=2$である（$(0)\subsetneq (a)\subsetneq (a,X)$により$2\leq\dim B$と考えても構わない）．$P=(aX-1)$とおくと，これは$B$の極大イデアルであるが，高さ$1$である．よって；
	\[\idht P+\coht P=1+0=1\neq 2=\dim B\]
	となり，成り立たない．
	
	また，１次元のNoether整域はCM環である．CM環は強鎖状（\ref{cor:CM環は強鎖状}）であるから，$B$は鎖状である．
\end{proof}

この例ではNoether環なので単項イデアルの高さは高々１である（Krullの標高定理）が，Noether性という仮定を外せば高さ２以上の単項イデアルが存在する．
\begin{surex}[無限次元のNoether整域の例（\citealp{Nagata1974}）]\label{ex:無限次元Noether環}
	$k$を体とし，$A=k[x_1,\dots,x_n，\dots]$を可算無限個の変数をもつ多項式環とする．自然数の増加列$\{n_i\}$を，$n_i-n_{i-1}<n_{i+1}-n_i$が成り立つように取る．$P_i=(x_{n_i},\dots,x_{n_{i+1}-1})$とおく．これらは素イデアルであるから，$\bigcup P_i$の$A$における補集合を$S$とすると，これは積閉である．$S^{-1}A$は無限次元のNoether整域となる．
\end{surex}

\begin{proof}
実際，$S^{-1}A$の素イデアルは$\bigcup P_i$に含まれる$A$の素イデアルであることを考えると$\dim S^{-1}A=\infty$であることは明らか．Noetherであることは，次の補題から従う．
		
\begin{lem}
	環$A$について，以下の2つ；
	\begin{sakura}
		\item $\ideal{m}$が$A$の極大イデアルならば，$A_{\ideal{m}}$はNoetherである．
		\item 任意の$0\neq x\in A$について，$x$を含む$A$の極大イデアルは有限個しかない．
	\end{sakura}
		を満たすならば，$A$はNoetherである．
\end{lem}
		
\begin{proof}[\textbf{補題の証明}]
	$I$を$A$のイデアルとする．(ii)より，$I$を含む極大イデアルは有限個しかない．それらを$\ideal{m}_1,\dots,\ideal{m}_s$としよう．任意の$x_0\in I$をとる．$x$を含む極大イデアルは有限個であるから，それを$\ideal{m}_1,\dots,\ideal{m}_s,\ideal{m}_{s+1},\dots,\ideal{m}_{s+r}$とする．各$1\leq j\leq r$について，$x_j\in I$で$x_j\not\in\ideal{m}_j$であるものがとれる．また，(i)より各$1\leq i\leq s$について$A_{\ideal{m}_i}$はNoetherなので，$IA_{\ideal{m}_i}$を生成する$I$の元は有限個である．それらを$x_{s+1},\dots,x_{s+t}$としよう．$I'=(x_0,\dots,x_t)$とおく．明らかに$I'\subset I$であるので，$A$自然な$A$加群の準同型$\iota:I'\hookrightarrow I$が存在する．このとき\ref{prop:局所的性質}を用いて$\iota$が全射であることを示す．$A$の極大イデアル$\ideal{m}$について，$\ideal{m}$が$\ideal{m}_1,\dots,\ideal{m}_s$のどれとも異なるとき，$I，I'\not\subset\ideal{m}$であるから，$IA_{\ideal{m}}=I'A_{\ideal{m}}=A_{\ideal{m}}$である．また$\ideal{m}_i (1\leq i\leq s)$については，$I'$は$IA_{\ideal{m}_i}$の生成元をすべて含むので，$I'A_{\ideal{m}_i}=IA_{\ideal{m}_i}$である．よって，任意の極大イデアルに$\iota$を誘導したものは全単射であるから，\ref{prop:局所的性質}によって$\iota$は全射，すなわち$I=I'$である．よって$I$は有限生成．
\end{proof}
		
この補題が適用できることを見るために，$S^{-1}A$の極大イデアルは$S^{-1}P_i$のみであることを示そう．$P\in\spec A$が$P\subset\bigcup P_i$であるとすると，$P\subset P_i$となる$i$があることをいえば十分．任意の$a\in P$に対して，$a$を含む$P_j$たちは有限個なので，それをすべてとってきて$(a)\subset\bigcup_{j=1}^n P_j$とする．任意の$x\in P$に対し，$x$を含む$P_j$たちも有限個だから，ある$n'$に対して$(a,x)\subset\bigcup_{j=1}^{n'}P_j$とできる．Prime avoidanceより$(a,x)\subset P_{j}$となる$j\leq n'$がとれるが，$a\in P_j$より$j\leq n$でなければならず，すると$(a,x)\subset\bigcup_{j=1}^n P_j$である．よって，$x$は任意で，$n$のとりかたは$x$によらないので$P\subset\bigcup_{j=1}^n P_i$である．再びPrime avoidanceを使って$P\subset P_i$となる$i$がとれる．

また，${S^{-1}A}_{S^{-1}P_i}=A_{P_i}$であるので，$S^{-1}A$は補題を満たす．
\end{proof}

\begin{surex}[CMでない局所環の例]
	$k$を体とする．$k[X,Y]/(X^2,XY)$を$(X,Y)$で局所化した環を$A$とすると，これはCMでない局所環になる．このとき$\dim A=1$だが，$(X,Y)=\ann X$なので$\mdepth A=0$である．
\end{surex}

%% X_1, X_{n+1} を(X_1＾2 X_1X_2,\dots, X_1X_{n+1})で割るとdepth 0 でdim n．(X_1X_{t+1},\dots, X_1X_{n+1})で割るとdepth は tで　dim は？ 

\begin{surex}[\ref{thm:完備正則局所環のNoether正規化}で整域を外した場合についての反例]\label{ex:完備局所環のNoether正規化のアナロジーの反例}
	$(A,\ideal{m},k)$を完備Noether局所環で，$A$は混標数で整域でないあるとする．このとき，任意の部分環$A'\subset A$が；
	\begin{sakura}
		\item $(A',\ideal{n})$は完備正則局所環である．
		\item $A$は有限生成$A'$加群である．
		\item $A'/\ideal{n}\cong k$である．
	\end{sakura}
	のすべてを満たすことはありえないような$A$が存在する．
\end{surex}

\begin{proof}
	まず$\Char A=p^n$のときは，部分環が整域になりえない．$\Char A=0$のときは，$p>0$について$A=\Z_P[[X]]/(pX)$とすると，条件を満たす$A'\subset A$が存在したとすればそれはDVRで，$A'/\ideal{n}=k$だから$A'/pA'$はArtinで，$A$が有限生成$A'$加群だから$A/pA$もArtinである．しかし$A/pA\cong\F_p[[X]]$なので矛盾する．
\end{proof}
\section{その他}

\begin{surex}\label{ex:射影被覆が存在しない例}
	$n>1$とすると，$\Z$加群として$\Z/n\Z$は射影被覆を持たない．
\end{surex}

\begin{proof}
	まず$\Z/n\Z$は射影的でない．実際，$\Z/n\Z\to\Z$は$0$に限るので，次のような図式；
	\[\begin{tikzcd}
		\Z/n\Z\arrow[d,dashed]\arrow[dr,"\id"]\\
		\Z\nxcell\Z/n\Z 
	\end{tikzcd}\]
	を可換にする$\Z/n\Z\to\Z$は存在しない．さて$\varepsilon:P\to\Z/n\Z$が射影被覆であるとすると，自然な全射$\Z\to\Z/n\Z$が射影加群からの全射だから\ref{prop:射影被覆の言い換え}により全射$\Z\to P$が存在する．すると$P\cong\Z/m\Z$となる$m$が存在するが，$P$が射影的なので$P\cong\Z$でなければならない．さて$\Z\to\Z/n\Z$が射影被覆でないことを言えばよいが，明らかに核$n\Z$は余剰部分加群ではない．
\end{proof}

\begin{surex}\label{ex:単射の外積が単射でない例}
	$\Z$加群$M=2(\Z/4\Z), N=\Z/4\Z$について，自然な包含$\iota:M\to N$は単射であるが，$\bigwedge\varphi$は単射ではない．
\end{surex}

\begin{proof}
	$(0,2)\wedge(2,0)\mapsto 4(0,1)\wedge(1,0)=0$となってしまう．
\end{proof}

\begin{surex}\label{ex:射影極限とテンソル積が可換でない例}
	$\Z$の極大イデアル$(p)$による完備化を考えると，$(\plim \Z/p^n\Z)\otimes_\Z\Q$と$\plim(\Z/p^n\Z\otimes_\Z\Q)$は同型でない．
\end{surex}

\begin{proof}
	$p$進数体について詳細には立ち入らない（数論の教科書を見てください）．$\Q_p$を$p$進有理数体とすると，これは$p$進整数環$\Z_p=\ilim \Z/p^n\Z$の商体であるが，同型$\Q_p\cong\Z_p\otimes_\Z \Q$が存在する．一方で$\Z/p^n\Z\otimes_\Z\Q=0$である．
\end{proof}

\begin{surex}
	$A=\prod_{i>1}Z/2^iZ$において$a=(2,2,\cdots)$とおく．このとき；
	\begin{sakura}
		\item $a$は弱副正則でない．
		\item $a,1$は弱副正則列である．
		\item $a,1$は副正則列でない．
		\item $1,a$は副正則列である．
	\end{sakura}
\end{surex}

\begin{proof}
	\begin{sakura}
		\item $a$が弱副正則であることと，副正則であることが同値であることに注意する．任意の$n>0$と$m\geq n$について，$\ann a^m\not\subset\ann a^{m-n}$である．実際$1$を$m$個並べて$r=(1,\dots,1,0,\dots)$とおけば$ra^m=0$だが$ra^{m-n}\neq 0$である．
		\item 直接証明もできるが，(iv)から簡単に従う．
		\item $a$が副正則でないので成り立たない．
		\item 明らかである．
	\end{sakura}
\end{proof}